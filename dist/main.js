(()=>{"use strict";class e{static currentId=1;constructor(t,n,d,i,o){this.id=e.currentId++,this.name=t,this.description=n,this.due=d,this.priority=i,this.state=o}editTodo(e,t,n,d,i){this.name=e,this.description=t,this.due=n,this.priority=d,this.state=i}}function t(){const e=document.querySelector(".main-tasks-container");e.innerHTML="",o.forEach((t=>{e.appendChild(function(e){const t=document.createElement("div");return t.innerHTML=`\n    <div class="card ${e.id}">\n\n    <div class="card-main-info">\n        <p class="card-name">${e.name}</h3>\n        <p class="card-date">${n=e.due,n?new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):""}</p>\n    </div>\n    <div class="card-sup-info">\n        <p>${e.priority}</p>\n        <div class="card-accessors">\n            <button class="delete-button" data-task-id="${e.id}">Delete</button>\n            <button class="edit-button" data-task-id="${e.id}">Edit</button>\n        </div>\n    </div>\n    </div>\n    `,t;var n}(t))})),e.innerHTML+='<button id="add-todo-button">ADD TODO</button>',document.getElementById("add-todo-button").addEventListener("click",n),document.querySelectorAll(".delete-button").forEach((e=>{e.addEventListener("click",(function(){var e;e=parseInt(this.getAttribute("data-task-id")),o=o.filter((t=>t.id!==e)),a(),t()}))})),document.querySelectorAll(".edit-button").forEach((e=>{e.addEventListener("click",(function(){!function(e){const t=o.find((t=>t.id===e));t&&(function(e){document.getElementById("edit-taskId").value=e.id,document.getElementById("edit-name").value=e.name,document.getElementById("edit-description").value=e.description,document.getElementById("edit-due").value=e.due,document.querySelectorAll(`input[name="edit-priority"][value="${e.priority}"]`).forEach((e=>{e.checked=!0})),document.querySelectorAll(`input[name="edit-state"][value="${e.state}"]`).forEach((e=>{e.checked=!0}))}(t),document.getElementById("edit-modal").style.display="block")}(parseInt(this.getAttribute("data-task-id")))}))}))}function n(){document.getElementById("add-modal").style.display="block"}function d(){document.getElementById("add-modal").style.display="none"}function i(){document.getElementById("edit-modal").style.display="none"}document.getElementById("add-todo-button").addEventListener("click",n),document.getElementById("close-add-modal").addEventListener("click",d),document.getElementById("close-edit-modal").addEventListener("click",i),document.getElementById("add-form").addEventListener("submit",(function(n){n.preventDefault(),function(n,d,i,c,u){const l=new e(n,d,i,c,u);o.push(l),a(),t()}(document.getElementById("add-name").value,document.getElementById("add-description")?.value||"",document.getElementById("add-due").value,document.querySelector('input[name="priority"]:checked')?.value||"None",document.querySelector('input[name="state"]:checked')?.value||"None"),d(),this.reset()})),document.getElementById("edit-form").addEventListener("submit",(function(e){e.preventDefault();const n=parseInt(document.getElementById("edit-taskId").value),d=document.getElementById("edit-name").value,c=document.getElementById("edit-description")?.value,u=document.getElementById("edit-due").value,l=document.querySelector('input[name="priority"]:checked')?.value,s=document.querySelector('input[name="state"]:checked')?.value;!function(e,n,d,i,c,u){o.find((t=>t.id==e)).editTodo(n,d,i,c,u),a(),t()}(n,d,c,u,l,s),i()})),document.addEventListener("click",(e=>{e.target===document.getElementById("add-modal")&&d(),e.target===document.getElementById("edit-modal")&&i()}));let o=[];function a(){localStorage.setItem("tasks",JSON.stringify(o))}!function(){const n=localStorage.getItem("tasks");n&&(o=JSON.parse(n).map((t=>new e(t.name,t.description,t.due,t.priority,t.status))),t())}()})();