(()=>{let e=null,t=0,n=0,o=null,d=!1,l=!1;function c(c,r){c.addEventListener("mousedown",(function(i){r||i.stopPropagation(),l||(e=c,d=r,t=i.clientX-c.getBoundingClientRect().left,n=i.clientY-c.getBoundingClientRect().top,o=c.parentElement,l=!1,c.style.cursor="grabbing",c.style.zIndex=1e3)})),c.addEventListener("mouseup",(function(){i()}))}function i(){if(e&&l){if(!(e.style.cursor="grab",e.style.zIndex="auto",d||function(e){const t=document.querySelectorAll(".project");let n=!1;return t.forEach((t=>{const o=t.getBoundingClientRect();if(e.getBoundingClientRect().top<o.bottom&&e.getBoundingClientRect().right>o.left&&e.getBoundingClientRect().bottom>o.top&&e.getBoundingClientRect().left<o.right){t.appendChild(e),e.style.position="static",function(e,t){e.querySelector(".project-name").textContent=t}(e,t.id),n=!0;const o=window.getComputedStyle(t).backgroundColor;e.style.backgroundColor=o}})),n}(e))){const t=e.getBoundingClientRect();e.style.position="absolute",document.body.appendChild(e),e.style.left=`${t.left}px`,e.style.top=`${t.top}px`,function(e){const t=e.querySelector(".project-name");t&&(t.textContent=""),e.style.backgroundColor="#F0f0f0"}(e)}e=null,d=!1,l=!1}}document.addEventListener("mousemove",(function(o){e&&!l&&(e.style.position="absolute",document.body.appendChild(e),l=!0),l&&(e.style.left=o.clientX-t+"px",e.style.top=o.clientY-n+"px")})),document.addEventListener("mouseup",i),document.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".draggable-card").forEach((e=>c(e,!1))),document.querySelectorAll(".project").forEach((e=>c(e,!0)))})),document.getElementById("todo-form").addEventListener("submit",(function(e){e.preventDefault(),function(){console.log("working");const e=document.getElementById("new-todo").value.trim(),t=document.getElementById("new-date-todo").value.trim();if(!e)return void alert("To-Do name cannot be empty");const n=document.createElement("div");n.classList.add("draggable-card"),n.innerHTML=`<div class="card-name">${e}</div><div class="card-date">${t}</div><div class="project-name"></div>`,n.style.position="absolute",n.style.left="10px",n.style.top=100*document.getElementById("card-container").childNodes.length+"px",document.getElementById("card-container").appendChild(n),c(n,!1),document.getElementById("new-todo").value=""}()})),document.getElementById("create-project-button").addEventListener("click",(function(){!function(){const e=document.getElementById("new-project-name").value.trim();if(!e)return void alert("Project name cannot be empty");const t=document.createElement("div");t.classList.add("project"),t.id=e.replace(/\s+/g,"-").toLowerCase(),t.innerHTML=`<h3>${e}</h3>`,t.style.backgroundColor=function(){let e="rgba(";for(let t=0;t<3;t++)e+=`${Math.floor(256*Math.random())},`;return e+="0.5)",e}(),document.getElementById("project-container").appendChild(t),c(t,!0),document.getElementById("new-project-name").value=""}()}))})();